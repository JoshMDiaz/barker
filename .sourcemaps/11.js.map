{"version":3,"sources":["../../src/pages/layout/map/map-marker/map-marker.module.ts","../../node_modules/rxjs/add/operator/map.js","../../src/pages/layout/map/map-marker/map-marker.ts"],"names":[],"mappings":"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","file":"11.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { MapMarkerPage } from './map-marker';\r\nimport { IonicPageModule } from 'ionic-angular';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    MapMarkerPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(MapMarkerPage),\r\n  ],\r\n  exports: [\r\n    MapMarkerPage\r\n  ]\r\n})\r\nexport class MapMarkerPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/layout/map/map-marker/map-marker.module.ts","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar map_1 = require('../../operator/map');\nObservable_1.Observable.prototype.map = map_1.map;\n//# sourceMappingURL=map.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/rxjs/add/operator/map.js\n// module id = 504\n// module chunks = 0 3 6 7 9 10 11 12 13 14","import { Component,ViewChild,ElementRef  } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams, LoadingController,ViewController } from 'ionic-angular';\r\nimport { AngularFireDatabase, FirebaseListObservable } from 'angularfire2/database-deprecated';\r\nimport 'rxjs/add/operator/map'; // you might need to import this, or not depends on your setup\r\ndeclare var google;\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-map-marker',\r\n  templateUrl: 'map-marker.html'\r\n})\r\n\r\nexport class MapMarkerPage {\r\n  @ViewChild('map') mapElement: ElementRef;\r\n  items: any[] = [];\r\n  map: any;\r\n  markerSelected: boolean = false;\r\n\r\n  //******************** Map style  **************************//\r\n  //*****  Ggo to snazzymaps.com for mor map styles  ********//\r\n  //**********************************************************//\r\n  mapStyle: any = [{\"featureType\":\"landscape.man_made\",\"elementType\":\"all\",\"stylers\":[{\"color\":\"#faf5ed\"},{\"lightness\":\"0\"},{\"gamma\":\"1\"}]},{\"featureType\":\"poi.park\",\"elementType\":\"geometry.fill\",\"stylers\":[{\"color\":\"#bae5a6\"}]},{\"featureType\":\"road\",\"elementType\":\"all\",\"stylers\":[{\"weight\":\"1.00\"},{\"gamma\":\"1.8\"},{\"saturation\":\"0\"}]},{\"featureType\":\"road\",\"elementType\":\"geometry.fill\",\"stylers\":[{\"hue\":\"#ffb200\"}]},{\"featureType\":\"road.arterial\",\"elementType\":\"geometry.fill\",\"stylers\":[{\"lightness\":\"0\"},{\"gamma\":\"1\"}]},{\"featureType\":\"transit.station.airport\",\"elementType\":\"all\",\"stylers\":[{\"hue\":\"#b000ff\"},{\"saturation\":\"23\"},{\"lightness\":\"-4\"},{\"gamma\":\"0.80\"}]},{\"featureType\":\"water\",\"elementType\":\"all\",\"stylers\":[{\"color\":\"#a0daf2\"}]}];\r\n\r\n  //mapStyle: any = [{\"featureType\":\"all\",\"elementType\":\"all\",\"stylers\":[{\"visibility\":\"on\"}]},{\"featureType\":\"all\",\"elementType\":\"labels\",\"stylers\":[{\"visibility\":\"off\"},{\"saturation\":\"-100\"}]},{\"featureType\":\"all\",\"elementType\":\"labels.text.fill\",\"stylers\":[{\"saturation\":36},{\"color\":\"#000000\"},{\"lightness\":40},{\"visibility\":\"off\"}]},{\"featureType\":\"all\",\"elementType\":\"labels.text.stroke\",\"stylers\":[{\"visibility\":\"off\"},{\"color\":\"#000000\"},{\"lightness\":16}]},{\"featureType\":\"all\",\"elementType\":\"labels.icon\",\"stylers\":[{\"visibility\":\"off\"}]},{\"featureType\":\"administrative\",\"elementType\":\"geometry.fill\",\"stylers\":[{\"color\":\"#000000\"},{\"lightness\":20}]},{\"featureType\":\"administrative\",\"elementType\":\"geometry.stroke\",\"stylers\":[{\"color\":\"#000000\"},{\"lightness\":17},{\"weight\":1.2}]},{\"featureType\":\"landscape\",\"elementType\":\"geometry\",\"stylers\":[{\"color\":\"#000000\"},{\"lightness\":20}]},{\"featureType\":\"landscape\",\"elementType\":\"geometry.fill\",\"stylers\":[{\"color\":\"#4d6059\"}]},{\"featureType\":\"landscape\",\"elementType\":\"geometry.stroke\",\"stylers\":[{\"color\":\"#4d6059\"}]},{\"featureType\":\"landscape.natural\",\"elementType\":\"geometry.fill\",\"stylers\":[{\"color\":\"#4d6059\"}]},{\"featureType\":\"poi\",\"elementType\":\"geometry\",\"stylers\":[{\"lightness\":21}]},{\"featureType\":\"poi\",\"elementType\":\"geometry.fill\",\"stylers\":[{\"color\":\"#4d6059\"}]},{\"featureType\":\"poi\",\"elementType\":\"geometry.stroke\",\"stylers\":[{\"color\":\"#4d6059\"}]},{\"featureType\":\"road\",\"elementType\":\"geometry\",\"stylers\":[{\"visibility\":\"on\"},{\"color\":\"#7f8d89\"}]},{\"featureType\":\"road\",\"elementType\":\"geometry.fill\",\"stylers\":[{\"color\":\"#7f8d89\"}]},{\"featureType\":\"road.highway\",\"elementType\":\"geometry.fill\",\"stylers\":[{\"color\":\"#7f8d89\"},{\"lightness\":17}]},{\"featureType\":\"road.highway\",\"elementType\":\"geometry.stroke\",\"stylers\":[{\"color\":\"#7f8d89\"},{\"lightness\":29},{\"weight\":0.2}]},{\"featureType\":\"road.arterial\",\"elementType\":\"geometry\",\"stylers\":[{\"color\":\"#000000\"},{\"lightness\":18}]},{\"featureType\":\"road.arterial\",\"elementType\":\"geometry.fill\",\"stylers\":[{\"color\":\"#7f8d89\"}]},{\"featureType\":\"road.arterial\",\"elementType\":\"geometry.stroke\",\"stylers\":[{\"color\":\"#7f8d89\"}]},{\"featureType\":\"road.local\",\"elementType\":\"geometry\",\"stylers\":[{\"color\":\"#000000\"},{\"lightness\":16}]},{\"featureType\":\"road.local\",\"elementType\":\"geometry.fill\",\"stylers\":[{\"color\":\"#7f8d89\"}]},{\"featureType\":\"road.local\",\"elementType\":\"geometry.stroke\",\"stylers\":[{\"color\":\"#7f8d89\"}]},{\"featureType\":\"transit\",\"elementType\":\"geometry\",\"stylers\":[{\"color\":\"#000000\"},{\"lightness\":19}]},{\"featureType\":\"water\",\"elementType\":\"all\",\"stylers\":[{\"color\":\"#2b3638\"},{\"visibility\":\"on\"}]},{\"featureType\":\"water\",\"elementType\":\"geometry\",\"stylers\":[{\"color\":\"#2b3638\"},{\"lightness\":17}]},{\"featureType\":\"water\",\"elementType\":\"geometry.fill\",\"stylers\":[{\"color\":\"#24282b\"}]},{\"featureType\":\"water\",\"elementType\":\"geometry.stroke\",\"stylers\":[{\"color\":\"#24282b\"}]},{\"featureType\":\"water\",\"elementType\":\"labels\",\"stylers\":[{\"visibility\":\"off\"}]},{\"featureType\":\"water\",\"elementType\":\"labels.text\",\"stylers\":[{\"visibility\":\"off\"}]},{\"featureType\":\"water\",\"elementType\":\"labels.text.fill\",\"stylers\":[{\"visibility\":\"off\"}]},{\"featureType\":\"water\",\"elementType\":\"labels.text.stroke\",\"stylers\":[{\"visibility\":\"off\"}]},{\"featureType\":\"water\",\"elementType\":\"labels.icon\",\"stylers\":[{\"visibility\":\"off\"}]}];\r\n\r\n  public infoWindows: any=[];\r\n\r\n  constructor(public navCtrl: NavController, public navParams: NavParams,public loadingCtrl: LoadingController ,public viewCtrl: ViewController, public afDB: AngularFireDatabase) {    \r\n    let loadingPopup = this.loadingCtrl.create({\r\n      spinner: 'crescent',\r\n      content: ''\r\n    });\r\n    loadingPopup.present();\r\n    this.afDB.list('/map').subscribe(mapList => {\r\n        this.items = mapList;\r\n        loadingPopup.dismiss();  \r\n    })\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    this.displayGoogleMap();\r\n  }\r\n\r\n  displayGoogleMap() {\r\n    let latLng = new google.maps.LatLng(13.801532791932946, 100.54677690766607);\r\n    let mapOptions = {\r\n        center: latLng,\r\n        zoom: 3,\r\n        styles: this.mapStyle,\r\n        mapTypeId: google.maps.MapTypeId.ROADMAP,\r\n        disableDefaultUI: true\r\n    };\r\n    this.map = new google.maps.Map(this.mapElement.nativeElement, mapOptions);\r\n    this.addMarkersToMap()\r\n  }\r\n\r\n  addMarkersToMap() {\r\n    for(let items of this.items) {\r\n      var position = new google.maps.LatLng(items.lat, items.lng);\r\n      var mapMarker = new google.maps.Marker({\r\n            position: position,\r\n            animation: google.maps.Animation.DROP,\r\n            markerSelected : true,\r\n            title: items.name,\r\n            email: items.email,\r\n            web: items.web,\r\n            phone: items.phone,\r\n            //**** Custom Marker Symbols ****/\r\n            //icon:  'assets/red_pin72x96.png'\r\n            icon: {\r\n                    url: 'assets/red_pin72x96.png',\r\n                    //The size image file.\r\n                    size: new google.maps.Size(72, 96),\r\n                    // we want to render @ 30x30 logical px (@2x dppx or 'Retina')\r\n                    scaledSize: new google.maps.Size(40, 52), \r\n                    //The point on the image to measure the anchor from. 0, 0 is the top left.\r\n                    origin: new google.maps.Point(0, 0),\r\n                    //The x y coordinates of the anchor point on the marker. e.g. If your map marker was a drawing pin then the anchor would be the tip of the pin.\r\n                    anchor: new google.maps.Point(20, 40),\r\n                    labelOrigin: new google.maps.Point(20, 12)\r\n                },\r\n                anchorPoint: new google.maps.Point(0, -40)\r\n      });\r\n      mapMarker.setMap(this.map);\r\n      this.addInfoWindowToMarker(mapMarker);\r\n      this.map.setCenter(position);\r\n    }\r\n  \r\n  }\r\n\r\n  addInfoWindowToMarker(marker) {\r\n\r\n      var infoWindowContent = '<div id=\"iw-container\">' +               \r\n                                  '<div class=\"iw-content\">' +\r\n                                        '<div class=\"iw-subTitle\">'+marker.title+'</div>' +                                  \r\n                                        '<br><b>Phone: </b> '+marker.phone+'<br><b>E-mail: </b>'+marker.email+'<br><b>Website: </b> '+marker.web+'</p>'+\r\n                                  '</div>' +\r\n                                  //'<div id=\"do-something-button\">button</div>' +\r\n                              '</div>';    \r\n\r\n      var infoWindow = new google.maps.InfoWindow();\r\n          // infoWindow.setOptions({\r\n          //     disableAutoPan:false\r\n          // }); \r\n          infoWindow.setContent(infoWindowContent);\r\n\r\n          marker.addListener('click', () => {\r\n                this.closeAllInfoWindows();\r\n                infoWindow.open(this.map, marker);\r\n                // add listener that will capture the click event of the infoWindow\r\n                // google.maps.event.addListener(infoWindow, 'domready', () => {\r\n                //   document.getElementById('do-something-button').addEventListener('click', () => {\r\n                //      this.doSomething();\r\n                //   });\r\n                // }); \r\n\r\n          });\r\n          this.infoWindows.push(infoWindow);\r\n  }\r\n\r\n  doSomething(){\r\n    console.log(\"doSomething\");\r\n  }\r\n\r\n  closeAllInfoWindows() {\r\n      for(let window of this.infoWindows) { \r\n        window.close();\r\n      }\r\n  }\r\n \r\n  dismiss() {\r\n   this.viewCtrl.dismiss();\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/layout/map/map-marker/map-marker.ts"],"sourceRoot":""}